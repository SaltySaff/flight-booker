<h1>Flight Search</h1>
<%= form_with url: '/flights', method: :get do |form| %>
  <%= form.label :departure_airport_id, "Departure airport:" %>
  <%= form.select :departure_airport_id, @departure_options %><br>
  <%= form.label :arrival_airport_id, "Destination airport:" %>
  <%= form.select :arrival_airport_id, @arrival_options %><br>
  <%= form.label :passenger_number, "Number of passengers:" %>
  <%= form.select :passenger_number, 1..5 %>
  <%= form.label :departure_datetime, "Date:" %>
  <%= form.select :departure_datetime, @date_options %>
  <%= form.check_box :any_date, {}, true, false %>
  <%= form.label :any_date, "Search for any date" %>

  <br><%= form.submit "Search" %>
<% end %>

<% if @results %>
  <p><%= @results.length %> results found.</p>
  <% @results.each do |result| %>
    <p><%= result.departure_airport.name %> - <%= result.arrival_airport.name %></p>
    <p><%= result.departure_datetime.strftime('%H:%M') %> - <%= result.departure_datetime.strftime('%d/%m/%Y') %></p>
  <% end %>
<% end %>
